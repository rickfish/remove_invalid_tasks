/*
 * This file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Java Library project to get you started.
 * For more details take a look at the Java Libraries chapter in the Gradle
 * user guide available at https://docs.gradle.org/4.8.1/userguide/java_library_plugin.html
 */

plugins {
    // Apply the java-library plugin to add support for Java Library
    id 'java-library'
}

repositories {
	 maven {
			url 'http://artifactory.bcbsfl.com/artifactory/maven-libs/'
	 }


    maven {
		url 'http://artifactory.bcbsfl.com/artifactory/libs-release'
	}


    maven {
		url 'http://artifactory.bcbsfl.com/artifactory/gradle-test-libs-release'
	}
}

sourceCompatibility = 1.8
targetCompatibility = 1.8

version = '1.0'

jar {
    manifest {
        attributes(
                'Main-Class': 'com.bcbsfl.es.Main'
        )
    }
 
    from {
        configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }
    }
}

dependencies {
	configurations.all {
		exclude group: 'amazon', module: 'aws-java-sdk'
		exclude group: 'com.thoughtworks.xstream', module: 'xstream'
		exclude group: 'io.netty', module: 'netty-resolver-dns'
		exclude group: 'com.squareup.okhttp', module: 'okhttp'
		exclude group: 'net.minidev', module: 'json-smart'
		exclude group: 'org.yaml', module: 'snakeyaml'
		resolutionStrategy {
	       	force 'net.java.dev.jna:jna:+'
			force 'com.fasterxml.jackson.core:jackson-databind:+'
	        force "com.fasterxml.jackson.core:jackson-core:+"
	        force "com.fasterxml.jackson.jaxrs:jackson-jaxrs-json-provider:+"
	        force "com.fasterxml.jackson.dataformat:jackson-dataformat-cbor:+"
	        force "com.fasterxml.jackson.dataformat:jackson-dataformat-smile:+"
			force 'commons-beanutils:commons-beanutils:+'
			force 'commons-collections:commons-collections:+'
			force 'io.netty:netty-common:4.1.48.Final'
			force 'io.netty:netty-transport:4.1.48.Final'
			force 'io.netty:netty-codec:4.1.69.Final'
			force 'io.netty:netty-codec-http:4.1.53.Final'
			force 'io.netty:netty-codec-http2:4.1.48.Final'
			force 'xerces:xercesImpl:2.12.0'
			force "org.apache.logging.log4j:log4j-api:2.17.0"
    		force "org.apache.logging.log4j:log4j-core:2.17.0"
    		force "commons-io:commons-io:+"
		}
	}                                                                                       
    // This dependency is exported to consumers, that is to say found on their compile classpath.
    api 'org.apache.commons:commons-math3:3.6.1'
    compile 'org.apache.commons:commons-lang3:+'

    // Use JUnit test framework
    testImplementation 'junit:junit:4.12'
    
	compile "commons-io:commons-io:${revCommonsIo}"

    compile "org.elasticsearch:elasticsearch:${revElasticSearch7}"
    compile "org.elasticsearch.client:transport:${revElasticSearch7}"
    compile "org.elasticsearch.client:elasticsearch-rest-client:${revElasticSearch7}"
    compile "org.elasticsearch.client:elasticsearch-rest-high-level-client:${revElasticSearch7}"

	compile group: 'com.google.guava', name: 'guava', version: '12.0'
	
	//ES5 Dependency
    compile "org.apache.logging.log4j:log4j-api:${revLog4jApi}"
    compile "org.apache.logging.log4j:log4j-core:${revLog4jCore}"

	compile "com.fasterxml.jackson.core:jackson-databind:${revJacksonDatabind}"
    compile "com.fasterxml.jackson.core:jackson-core:${revJacksonCore}"
    compile "com.jayway.jsonpath:json-path:${revJsonPath}"
    compile "org.apache.commons:commons-lang3:${revCommonsLang3}"
    
    compile('com.google.code.gson:gson:2.8.9')
	compile(group: 'org.postgresql', name: 'postgresql', version: '42.1.1')
    compile "com.zaxxer:HikariCP:3.4.5"
	compile('com.sun.mail:javax.mail:1.6.2')
}
